{
  "hash": "440128d644790b0e72cad212dd621beb",
  "result": {
    "markdown": "---\ntitle: \"Panic!<br>In The Toolshed\"\nsubtitle: \"[matt-dray.github.io/government-toolshed](https://matt-dray.github.io/government-toolshed)\"\nauthor: \"[Matt Dray](https://www.matt-dray.com), June 2023\"\nformat:\n  revealjs: \n    theme: [default, assets/styles/toolshed-style.scss]\n    menu: true\ntitle-slide-attributes:\n  data-background-image: assets/images/pegboard-invert.png\n  data-background-opacity: \"0.1\"\n  data-notes: |\n    * I'm Matt Dray, here to talk about making and sharing tools across government.\n    * I work at UKHSA, but this is a personal perspective of work I did while in CO.\n    * I'm here because I once made a thing and learnt some hard lessons from the process.\n    * I'm also here as penance: I made work for Mia by suggesting today's topic in a Slack conversation.\n---\n\n\n## tl;dr {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\nShare your tools\n\n::: notes\n* The 'too long didn't read' for this talk is very simple and you already know it: if you make something helpful, then share it with others. Share it even if it isn't completely helpful yet.\n* This will help reduce duplication, improve quality and improve efficiency.\n* By 'tools' I'm thinking of software, packages, that sort of thing. But it also applies to stuff that isn't code as well.\n:::\n\n# An experience {.center data-background-image=\"assets/images/pegboard-invert.png\" data-background-opacity=0.1}\n\n::: notes\n* I could just leave it at that.\n* To add credibility I'll tell you a little story about a tool I created and shared, and the things I wish I'd thought harder and earlier about.\n:::\n\n## {.center-h data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n![](assets/images/website-guidance.png){alt='Guidance from the Analysis Function called releasing statistics in spreadsheets.'}\n\n::: footer\n[https://analysisfunction.civilservice.gov.uk/policy-store/releasing-statistics-in-spreadsheets/](https://analysisfunction.civilservice.gov.uk/policy-store/releasing-statistics-in-spreadsheets/)\n:::\n\n::: notes\n* In 2021, which feels like 100 years ago, the [Government Analysis Function](https://analysisfunction.civilservice.gov.uk/) created [new (and very good) guidance](https://analysisfunction.civilservice.gov.uk/policy-store/releasing-statistics-in-spreadsheets/) for releasing statistics in spreadsheets.\n* My team published a number of spreadsheets on GOV.UK, but none were compliant. They used cell colour as data, had empty columns, used multiple headers and had footnotes hidden under tables. Classic non-accessible stuff. \n* In addition, the production process was point-and-click and wasted a lot of time.\n* There was an opportunity to use the new guidance to overhaul our publications.\n:::\n\n## {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nremotes::install_github(\"co-analysis/a11ytables\")\n\na11ytables::create_a11ytable(\n  tab_titles,\n  sheet_types,\n  sheet_titles,\n  blank_cells,\n  sources,\n  tables\n) |>\n  a11ytables::generate_workbook() |>\n  openxlsx::saveWorkbook()\n```\n:::\n\n\n::: footer\n[https://github.com/co-analysis/a11ytables](https://github.com/co-analysis/a11ytables)\n:::\n\n::: notes\n* I started with some reusable R functions to apply the new guidance consistently, which later meant it was worthwhile to create a package so it could be more easily maintained and shared.\n* The package is called [{a11ytables}](https://co-analysis.github.io/a11ytables) and this is an example of what it looks like in use.\n* What does the package do? You give it your tables of data, along with some metadata like worksheet titles, and it automatically creates an xlsx spreadsheet that complies with the guidance as far as possible.\n* It does the hard work for you to structure and style your spreadsheets in a compliant way, basically.\n* I should say that [the Python package 'gptables'](https://gptables.readthedocs.io/en/latest/) existed at the time, but it hadn't yet been updated for the new guidance (it has been now) and there was no native R solution.\n* R users are special, after all, and they deserve the very best.\n:::\n\n## {.center-h data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n![](assets/images/website-a11ytables.png){alt='A screenshot of the documentation website for the R package called a11ytables. It has several sections of information about the purpose of the package, the license, the authors, and more.'}\n\n::: footer\n[https://co-analysis.github.io/a11ytables/](https://co-analysis.github.io/a11ytables/)\n:::\n\n::: notes\n* So, having put in a little bit of effort already, and knowing that others should comply with the new guidance, it made sense to make it easy to use and to tell other people it existed.\n* First, this involved making some half-decent documentation. The screenshot here is the package's website.\n* Then I spoke to likely users, both internally (i.e. at an NHS-R webinar, at a GSS Champions quarterly meeting, to a Scottish Government R conference) and externally (i.e. a talk at EARL conference 2022, blog posts, social media).\n:::\n\n## Success! {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* It did what I wanted it to do\n* It's in use across government\n* It's been improved by feedback\n\n::: notes\n* I used it to successfully create the spreadsheets my team needed to release. The lowest bar!\n* The package is now in use across a number of organisations (CO, MoJ, ONS, DfT, Scot Gov, etc).\n* It's also now referenced now from the Analysis Function [spreadsheet guidance](https://analysisfunction.civilservice.gov.uk/policy-store/further-resources-for-releasing-statistics-in-spreadsheets/), so that's nice.\n* I had lots of great input and ideas from colleagues, and inevitable bug-catching, which helped improve the package.\n:::\n\n## Panic! {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* Where's the maintainer?\n* Should it move to another repo?\n* Should {a11ytables2} exist?\n\n::: notes\n* Despite some success, there are some complications.\n* I wrote the package in a department that I've now left. My access to the GitHub repo is diminished and it's no longer a priority.\n* How does this look from the user perspective? Will they think it's stuck in liminal space or abandoned?\n* Should I have asked earlier to transfer it somewhere more central than my division's GitHub organisation? Where would I have transferred it to?\n* Moving a package means you have to think about awkward things like licensing, broken URLs, the burden on the new owners, etc.\n* {a11ytables} is based on the {openxlsx} package. An {openxlsx2} package is maturing and has better support for a number of features, like automatic font colouring, and should make for more readable code on the backend. So should {a11ytables} be updated? Or is this the chance to make an '{a11ytables2}'?\n* More importantly I think it's a terrible package name, but it's too late to change it.\n:::\n\n# Reflection {.center data-background-image=\"assets/images/pegboard-invert.png\" data-background-opacity=0.1}\n\n::: notes\n* I could probably have thought about these things earlier. So here I am telling _you_ to think about these things while you can.\n* If I were to tease this out a bit, the experience boils down to three things: think sustainably, try to centralise, and make sure to advertise.\n:::\n\n## 1. Think sustainably {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* Build modular things\n* Write good documentation\n* Plan for your loss\n\n::: {.notes}\n* First, what do I mean by 'think sustainably'?\n* Make smaller, simpler things that are easier to maintain and have a greater chance of being used more than once in multiple projects.\n* Make it easy for you and others to understand the code.\n* Do what you can to make it as easy as possible for other people to use and develop it if you disappear.\n:::\n\n## 2. Centralise {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* Make it discrete\n* Make it easy to find\n* Pool your tools\n\n::: {.notes}\n* Second was 'centralise'.\n* Bring together your code in one place; ideally into a package structure if it makes sense. Make it into a defined 'thing' rather than 'a bunch of stuff in a folder'. You should be able to point to it as a single URL or filepath at worst.\n* Get it off your local drive and made available to your team, to your org, to the government, and beyond. \n* Tools created on government time belong to the taxpayer. Making it open improves transparency, but also makes it much easier for others to collaborate and ask questions. (Yes, I understand that certain things are sensitive and it's not easy to do make them freely available, but try to default to openness where possible.)\n* Try to surface tools in one place, at team and organisation-level at very least. The people most likely to need your tools are probably at these scales. But why stop there?\n:::\n\n## 3. Advertise {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* Talk to people\n* Expose duplication early\n* Build a community\n\n::: notes\n* And third, 'advertise'.\n* How can anyone find your project? Talk about it in internal networks, at Coffee & Coding, etc. Expand out to external events even if you don't think there are users there; try Slack, or these Data Science meetups, or even external events. You could inspire someone else.\n* The sooner you start talking about it, the sooner you'll find out if it already exists.\n* Encourage questions and collaborators and build a little community to help improve the thing.\n* This is not about 'marketing', 'clout', or impressing people. It's about making people's lives easier, including yours.\n* The smart ones among you will realise that this is pretty meta: I'm advertising while I tell you to advertise.\n:::\n\n# It's not just me {.center data-background-image=\"assets/images/pegboard-invert.png\" data-background-opacity=0.1}\n\n::: notes\n* Of course, this isn't new.\n* Turns out that there are government principles that relate to these ideas already.\n* These principles focus more on digital services, but we can co-opt them for 'tools'. \n:::\n\n## [Gov Design Principles](https://www.gov.uk/guidance/government-design-principles) {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* Do less\n* Iterate, then iterate again\n* Make things open, it makes things better\n\n::: notes\n* These three points from [the Government Design Principles](https://www.gov.uk/guidance/government-design-principles) are helpful in the context of writing tools as well.\n* Principle 2: 'If we’ve found a way of doing something that works, we should make it reusable and shareable instead of reinventing the wheel every time.'\n* Principle 5: 'The best way to build good <s>services</s> tools is to start small and iterate wildly.'\n* Principle 10: 'Share code, share designs, share ideas, share intentions, share failures.'\n:::\n\n## [Tech Code of Practice](https://www.gov.uk/guidance/the-technology-code-of-practice) {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* Be open and use open source\n* Share, reuse and collaborate\n\n::: notes\n* The [Technology Code of Practice](https://www.gov.uk/guidance/the-technology-code-of-practice) echoes these sentiments.\n* [Criterion 3](https://www.gov.uk/guidance/be-open-and-use-open-source): 'Publish your code and use open source software to improve transparency, flexibility and accountability.'\n* [Criterion 8](https://www.gov.uk/guidance/share-and-reuse-technology): 'Avoid duplicating effort and unnecessary costs by collaborating across government and sharing and reusing technology, data, and services.'\n:::\n\n# A metaphor {.center data-background-image=\"assets/images/pegboard-invert.png\" data-background-opacity=0.1}\n\n::: notes\n* You'll have noticed the idea of a 'toolshed' as the theme of this session.\n* I'm going to humour Mia by spelling it out more literally.\n:::\n\n## {background-image=\"assets/images/ashim-d-silva-Kw_zQBAChws-unsplash.jpg\"}\n\n::: notes\n* Is this the current state of the government toolshed?\n* We know there are tools in use across government that others might be able to use or contribute to, but they're not organised.\n* Maybe some are multifaceted instruments, like the Swiss Army knife; maybe some are more blunt, like this tomahawk; maybe some are overcomplicated, like this knife that has a picture of a... knife... on it.\n* You get the idea. It's a metaphor. What the heck is available and how the heck can I find it?\n:::\n\n## {background-image=\"assets/images/cesar-carlevarino-aragon-NL_DF0Klepc-unsplash.jpg\"}\n\n::: notes\n* Could this be the future state of the government toolshed?\n* What if we could organise and arrange our tools so everyone can more easily find and use them? What would that look like for us at a government-wide level?\n* Fittingly, this image has some empty spots to be filled and also some tools that fill a spot, but don't quit fit the spot. Room to develop?\n* But maybe we need something more like a Toolstation (not sponsoring this talk) that has a catalogue that you can peruse (other tool vendors are available).\n:::\n\n## {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n![](assets/images/website-awesome.png){alt='A section of the README file from the Awesome List for Official Statistics Software on GitHub.'}\n\n::: footer\n[https://github.com/SNStatComp/awesome-official-statistics-software](https://github.com/SNStatComp/awesome-official-statistics-software)\n:::\n\n::: notes\n* Let me give you an example of the simplest possible format that this take: it could just be an up-to-date _list_.\n* This is an example hosted in a GitHub README. It's a list of 'awesome official statistics software.' \n* There are many 'Awesome' lists on GitHub for all sorts of things. They're usually fairly ad hoc.\n:::\n\n## {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n![](assets/images/website-ctv.png){alt='An example CRAN Task View webpage, which lists R packages grouped by some specialism. This example is for official and survey statistics.'}\n\n::: footer\n[https://cran.r-project.org/web/views/OfficialStatistics.html](https://cran.r-project.org/web/views/OfficialStatistics.html)\n:::\n\n::: notes\n* Another example is the more formal 'CRAN Task View'. These are lists of R packages that are related to specific named tasks. \n* This one is for official and survey statistics, for example.\n* Wondering out loud: do you think this is something we should do, at very least?\n:::\n\n## tl;dr {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* Share your tools\n* Sustainabilise, centralise, advertise\n* Don't panic!\n\n::: notes\n* Anyway, to recap, I'm telling you to do obvious things like 'share you tools', but also to think about how you can make that easier for yourself in future.\n* And if you don't care about anyone else, then at least prevent future-you from panicking.\n* I've been Matt Dray, thank you for coming to my therapy session.\n:::\n\n## {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n## Links {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* [These slides](https://matt-dray.github.io/government-toolshed/#/title-slide) and [their source](https://github.com/matt-dray/government-toolshed)\n* [Blog](https://www.rostrum.blog/2023/06/13/panic-in-the-toolshed/) about this talk\n* {a11ytables} [docs](https://co-analysis.github.io/a11ytables/) and [source](https://github.com/co-analysis/a11ytables)\n* The Analysis Function's [spreadsheet guidance](https://analysisfunction.civilservice.gov.uk/policy-store/releasing-statistics-in-spreadsheets/)\n\n## Credits {.center data-background-image=\"assets/images/pegboard.png\" data-background-opacity=0.1}\n\n* <a href=\"https://unsplash.com/es/@randomlies\">Ashim D’Silva</a> on <a href=\"https://unsplash.com/photos/Kw_zQBAChws\">Unsplash</a>.\n* <a href=\"https://unsplash.com/@carlevarino\">Cesar Carlevarino Aragon</a> on <a href=\"https://unsplash.com/photos/NL_DF0Klepc\">Unsplash</a>.\n* [DM Serif Text](https://fonts.google.com/specimen/DM+Serif+Text/about) by Colophon Foundry.\n* [Spline Sans Mono](https://fonts.google.com/specimen/Spline+Sans+Mono/about) by Eben Sorkin and Mirko Velimirović.\n* [Quarto](https://quarto.org/) by Posit PBC.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}