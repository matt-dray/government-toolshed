---
title: "Panic!<br>In The Toolshed"
subtitle: "[matt-dray.github.io/government-toolshed](https://matt-dray.github.io/government-toolshed)"
author: "[Matt Dray](https://www.matt-dray.com), June 2023"
format:
  revealjs: 
    theme: [default, assets/styles/toolshed-style.scss]
    menu: true
title-slide-attributes:
  data-background-image: assets/images/pegboard-invert.png
  data-background-opacity: "0.1"
  data-notes: |
    * I'm here to talk about making and sharing tools across government.
    * I'm here because I made a thing and learnt some lessons along the way.
    * I'm also here as penance becuase I made work for Mia by suggesting today's topic.
    * I work at UKHSA, but this is a personal perspective of work I did while in CO.
---

## tl;dr {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

Share your tools!

::: notes
* The 'too long didn't read' for this talk is very simple and you already know it.
* By 'tools' I'm thinking of software, packages, that sort of thing. But it also applies to stuff that isn't code as well.
:::

# An experience {.center data-background-image="assets/images/pegboard-invert.png" data-background-opacity=0.1}

::: notes
* I could just leave it at that.
* To add credibility I'll tell you a little story about a tool I created and shared, and the things I wish I'd thought harder and earlier about.
:::

## Thought process (2021) {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

1. There's new [spreadsheet guidance](https://analysisfunction.civilservice.gov.uk/policy-store/releasing-statistics-in-spreadsheets/)
1. Might as well write some functions
1. Other people are probably doing this

::: notes
* Remember 2021? Me neither.
* The [Government Analysis Function](https://analysisfunction.civilservice.gov.uk/) created [new (and very good) guidance](https://analysisfunction.civilservice.gov.uk/policy-store/releasing-statistics-in-spreadsheets/) for releasing statistics in spreadsheets.
* None of the spreadsheets in my team were compliant. Colours, blank columns, multiple headers, footnotes hidden under tables. Classic non-accessible stuff. 
* Also the production process was point-and-click before I joined.
* Given multiple files staggered across releases, it made sense to start with some reusable R functions to apply the new guidance consistently, which later meant it was worthwhile to create a package.
* At the time, there was [the Python package 'gptables'](https://gptables.readthedocs.io/en/latest/) from members of the Analysis Function, but it hadn't yet been updated for the new guidance (it has been now) and there was no native R solution. R users are special and they deserve the very best.
:::

## {.center-h data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

![](assets/images/website-a11ytables.png){alt='A screenshot of the documentation website for the R package called a11ytables. It has several sections of information about the purpose of the package, the license, the authors, and more.'}
[co-analysis.github.io/a11ytables](https://co-analysis.github.io/a11ytables)

::: notes
* And so the {a11ytables} package was created. Entirely for our own use at first, but I got the feeling it would have other interested parties.
* What does it do? You give it your tables of data, along with some metadata like worksheet titles, and it automatically creates an xlsx spreadsheet that is (mostly!) compliant with the guidance. It does the hard work for you, basically.
* This screenshot is the documentation homepage.
:::

## Success! {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

* It did what I wanted it to do
* It's in use across government
* It's been improved by feedback

::: notes
* I used it to successfully create the spreadsheets we needed to release. The lowest bar!
* I spoke to some targeted groups that might find it useful: both internally (i.e. at an NHS-R webinar, at a GSS Champions quarterly meeting, to a Scottish Government R conference) and externally (i.e. a talk at EARL conference 2022, blog posts, social media). It's referenced now from the Analysis Function [spreadsheet guidance](https://analysisfunction.civilservice.gov.uk/policy-store/further-resources-for-releasing-statistics-in-spreadsheets/).
* It's not perfect, but the package is now in use across a number of organisations (CO, MoJ, ONS, DfT, Scot Gov, etc)
:::

## Panic! {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

* The maintainer left the org!
* Should {a11ytables2} exist?
* Where should tools live?

::: notes
* Despite some success, there are some complications.
* I wrote the package in a department that I've now left. My access to the GitHub repo is diminished. How does this impact things?
* {a11ytables} is based on the {openxlsx} package. An {openxlsx2} package is maturing and has better support for a number of features, like automatic font colouring, and should make for more readable code on the backend. So should {a11ytables} be updated? Or is this the chance to make an '{a11ytables2}'?
* This raises a wider question of where this kind of tool should live. It was developed in one particular department on their time, so it 'belongs' to them. But now it's stuck in a liminal space. If it were to move somewhere else, we'd need to think about licensing, broken URLs, burden on new owner, etc.
:::

# Reflection {.center data-background-image="assets/images/pegboard-invert.png" data-background-opacity=0.1}

::: notes
* I could probably have thought about these things earlier. So here I am telling you to think about these things.
* If I were to tease this out a bit, the experience boils down to three things: think sustainably, advertise and centralise.
* I don't think they're that surprising (even if one of them is not a real word).
:::

## 1. Sustainabilise {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

* Build modular things
* Write good documentation
* Plan for your loss

::: {.notes}
* Start small and simple, then build up. 
* Make it easy for you and others to understand the code.
* All of this will make it easier for others to maintain and develop the tool if you leave the project.
:::

## 2. Centralise {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

* Make it discrete
* Make it easy to find
* Pool your tools

::: {.notes}
* Bring together your code in one place; ideally into a package structure if it makes sense. Make it into a defined 'thing' rather than 'a bunch of stuff in a folder'. You should be able to point to it as a single URL or filepath at worst.
* Get it off your local drive and made available to your team, to your org, to the government, and beyond. 
* Tools created on government time belong to the taxpayer. Making it open improves transparency, but also makes it much easier for others to collaborate and ask questions. (Yes, I understand that certain things are sensitive and it's not easy to do make them freely available, but try to default to openness where possible.)
* Try to surface tools in one place, at team and organisation-level at very least. The people most likely to need your tools are probably at these scales. But why stop there?
:::

## 3. Advertise {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

* Talk to people
* Expose duplication early
* Build a community

::: notes
* How can anyone find your project? Talk about it in internal networks, at Coffee & Coding, etc. Expand out to external events even if you don't think there are users there; try Slack, or these Data Science meetups, or even external events. You could inspire someone else.
* The sooner you start talking about it, the sooner you'll find out if it already exists.
* Encourage questions and collaborators to help improve the thing.
* This is not about 'marketing', 'clout', or impressing people. It's about making people's lives easier, including yours.
* The smart ones among you will realise that this is pretty meta: I'm advertising while I tell you to advertise.
:::

# It's not just me {.center data-background-image="assets/images/pegboard-invert.png" data-background-opacity=0.1}

::: notes
* Turns out that there are government principles that relate to these ideas already.
* These principles focus more on digital services, but we can co-opt them for tools. 
:::

## [Gov Design Principles](https://www.gov.uk/guidance/government-design-principles) {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

* Do less
* Iterate, then iterate again
* Make things open, it makes things better

::: notes
* These three points from [the Government Design Principles](https://www.gov.uk/guidance/government-design-principles) are helpful in the context of writing tools as well.
* Principle 2: 'If we’ve found a way of doing something that works, we should make it reusable and shareable instead of reinventing the wheel every time.'
* Principle 5: 'The best way to build good <s>services</s> tools is to start small and iterate wildly.'
* Principle 10: 'Share code, share designs, share ideas, share intentions, share failures.'
:::

## [Tech Code of Practice](https://www.gov.uk/guidance/the-technology-code-of-practice) {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

* Be open and use open source
* Share, reuse and collaborate

::: notes
* The [Technology Code of Practice](https://www.gov.uk/guidance/the-technology-code-of-practice) echoes these sentiments.
* [Criterion 3](https://www.gov.uk/guidance/be-open-and-use-open-source): 'Publish your code and use open source software to improve transparency, flexibility and accountability.'
* [Criterion 8](https://www.gov.uk/guidance/share-and-reuse-technology): 'Avoid duplicating effort and unnecessary costs by collaborating across government and sharing and reusing technology, data, and services.'

:::

# A metaphor {.center data-background-image="assets/images/pegboard-invert.png" data-background-opacity=0.1}

::: notes
* You'll have noticed the idea of a 'toolshed' as the theme of this session.
* I'm going to humour Mia by spelling it out literally.
:::

## {background-image="assets/images/ashim-d-silva-Kw_zQBAChws-unsplash.jpg"}

::: notes
* Is this the current state of things? 
* We know there are tools in use across government that others might be able to use or contribute to, but they're not organised.
* Maybe some are multifaceted instruments, like the Swiss Army knife; maybe some are more blunt, like this tomahawk; maybe some are overcomplicated, like this knife that has a picture of a... knife... on it.
* Is a nail a tool? Maybe it needs a hammer. Where can I find one?
* You get the idea. It's a metaphor. What the heck is available and how the heck can I find what I need?

:::

## {background-image="assets/images/cesar-carlevarino-aragon-NL_DF0Klepc-unsplash.jpg"}

::: notes
* Could this be the future state of things?
* What if we could organise and arrange our tools so everyone can more easily find and use them? What would that look like for us at a government-wide level?
* Fittingly, this image has some empty spots to be filled and also some tools that fill a spot, but don't quit fit the spot. Room to develop?
* But maybe we need something more like a Toolstation (not sponsoring this talk) that has a catalogue that you can peruse.
:::

## tl;dr {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

* Share your tools!
* Sustainabilise, centralise, advertise
* What would a cross-gov toolshed look like?
* [matt-dray.github.io/government-toolshed](https://matt-dray.github.io/government-toolshed)

::: notes
* Think sustainably: design your tools so that it's not a problem if you disappear.
* Centralise: store all aspects of the project (code, documentation) in an obvious, open place that others can contribute to.
* Advertise: tell people about the project to help uncover duplication and get them involved.
* Think of these things when you're developing things and hopefully you won't end up panicking in the toolshed like me.
* Thank you for coming to my therapy session.
:::

## {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

::: notes
:::

## Credits {.center data-background-image="assets/images/pegboard.png" data-background-opacity=0.1}

* <a href="https://unsplash.com/es/@randomlies">Ashim D’Silva</a> on <a href="https://unsplash.com/photos/Kw_zQBAChws">Unsplash</a>.
* <a href="https://unsplash.com/@carlevarino">Cesar Carlevarino Aragon</a> on <a href="https://unsplash.com/photos/NL_DF0Klepc">Unsplash</a>.
* [DM Serif Text](https://fonts.google.com/specimen/DM+Serif+Text/about) by Colophon Foundry.
* [Spline Sans Mono](https://fonts.google.com/specimen/Spline+Sans+Mono/about) by Eben Sorkin and Mirko Velimirović.
* [Quarto](https://quarto.org/) by Posit PBC.

::: notes
:::